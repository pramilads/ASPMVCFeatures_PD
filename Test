<div class="col-12" [hidden]="!schedulerService.expandSearch">
    <div class="row">
        <div class="col-12 col-md-8">
            <div class="form-group row">
                <label class="col-sm-7 col-form-label text-md-right">Work Type: </label>
                <div class="col-sm-5">
                    <select class="form-control" [(ngModel)]="orderCrewSearchModel.WorkType">
                        <option *ngFor="let data of dropDownData | ddlFilter : 'WorkType'" [value]="data.id">
                        {{data.name}}
                        </option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-3">
        <div class="col text-center">
            <button type="submit" class="btn btn-primary btn-sm mr-2" (click)="searchOrdersAndCrews()">Search</button>
            <button type="reset" class="btn btn-primary btn-sm" (click)="resetSearchData()">Reset</button>
        </div>
    </div>
</div>

<div class="container" *ngIf="displayCrewOrderInfo">
    <div class="row">
        <div class="col-6">
            <div class="row scheduler header-row">
                <div class="col">
                    <h3>Crew Information</h3>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <table class="scheduler table table-bordered table-sm">
                        <thead>
                            <tr>
                                <th>Crew</th>
                                <th>Mon</th>
                                <th>Tues</th>
                                <th>Wed</th>
                                <th>Thur</th>
                                <th>Fri</th>
                                <th>Sat</th>
                                <th>Sun</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let crew of lstCrew"
                                cdkDropList>
                                <td style="background-color: #e9ecef;">
                                    Crew Id: {{crew.CrewId}}
                                    <br/>
                                    <br/>
                                    Crew Type: {{crew.CrewType}}
                                    <br/>
                                    <br/>
                                    Truck: {{crew.Truck}}
                                    <br/>
                                    <br/>
                                    Comments: {{crew.Comments}}
                                </td>
                                <td (mouseenter)="onMouseEnter(crew.CrewId, 'Monday')">
                                    <p>Available Capacity: <span style="font-weight: bold;">{{crew.Monday.AvailableCapacity}}</span></p>
                                    <p *ngFor="let order of crew.Monday.OrdersList" [ngClass]="order.orderStyle">{{order.orderKey}}-{{order.orderDesc}}<i style="padding-left: 4px;" class="fa fa-minus-square" title="Remove Mapping" (click)="removeMapping(order.orderKey, crew.CrewId, 'Monday')"></i></p>
                                </td>
                                <td (mouseenter)="onMouseEnter(crew.CrewId, 'Tuesday')">
                                    <p>Available Capacity: <span style="font-weight: bold;">{{crew.Tuesday.AvailableCapacity}}</span></p>
                                    <p *ngFor="let order of crew.Tuesday.OrdersList" [ngClass]="order.orderStyle">{{order.orderKey}}-{{order.orderDesc}}<i style="padding-left: 4px;" class="fa fa-minus-square" title="Remove Mapping" (click)="removeMapping(order.orderKey, crew.CrewId, 'Tuesday')"></i></p>
                                </td>
                                <td (mouseenter)="onMouseEnter(crew.CrewId, 'Wednesday')">
                                    <p>Available Capacity: <span style="font-weight: bold;">{{crew.Wednesday.AvailableCapacity}}</span></p>
                                    <p *ngFor="let order of crew.Wednesday.OrdersList" [ngClass]="order.orderStyle">{{order.orderKey}}-{{order.orderDesc}}<i style="padding-left: 4px;" class="fa fa-minus-square" title="Remove Mapping" (click)="removeMapping(order.orderKey, crew.CrewId, 'Wednesday')"></i></p>
                                </td>
                                <td (mouseenter)="onMouseEnter(crew.CrewId, 'Thursday')">
                                    <p>Available Capacity: <span style="font-weight: bold;">{{crew.Thursday.AvailableCapacity}}</span></p>
                                    <p *ngFor="let order of crew.Thursday.OrdersList" [ngClass]="order.orderStyle">{{order.orderKey}}-{{order.orderDesc}}<i style="padding-left: 4px;" class="fa fa-minus-square" title="Remove Mapping" (click)="removeMapping(order.orderKey, crew.CrewId, 'Thursday')"></i></p>
                                </td>
                                <td (mouseenter)="onMouseEnter(crew.CrewId, 'Friday')">
                                    <p>Available Capacity: <span style="font-weight: bold;">{{crew.Friday.AvailableCapacity}}</span></p>
                                    <p *ngFor="let order of crew.Friday.OrdersList" [ngClass]="order.orderStyle">{{order.orderKey}}-{{order.orderDesc}}<i style="padding-left: 4px;" class="fa fa-minus-square" title="Remove Mapping" (click)="removeMapping(order.orderKey, crew.CrewId, 'Friday')"></i></p>
                                </td>
                                <td (mouseenter)="onMouseEnter(crew.CrewId, 'Saturday')">
                                    <p>Available Capacity: <span style="font-weight: bold;">{{crew.Saturday.AvailableCapacity}}</span></p>
                                    <p *ngFor="let order of crew.Saturday.OrdersList" [ngClass]="order.orderStyle">{{order.orderKey}}-{{order.orderDesc}}<i style="padding-left: 4px;" class="fa fa-minus-square" title="Remove Mapping" (click)="removeMapping(order.orderKey, crew.CrewId, 'Saturday')"></i></p>
                                </td>
                                <td (mouseenter)="onMouseEnter(crew.CrewId, 'Sunday')">
                                    <p>Available Capacity: <span style="font-weight: bold;">{{crew.Sunday.AvailableCapacity}}</span></p>
                                    <p *ngFor="let order of crew.Sunday.OrdersList" [ngClass]="order.orderStyle">{{order.orderKey}}-{{order.orderDesc}}<i style="padding-left: 4px;" class="fa fa-minus-square" title="Remove Mapping" (click)="removeMapping(order.orderKey, crew.CrewId, 'Sunday')"></i></p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    <!-- </div>
    <div class="row"> -->
        <div class="col-6">
            <div class="row scheduler header-row">
                <div class="col">
                    <h3>Jobs available / Ready for work</h3>
                </div>
            </div>
            <div class="row">
                <div class="col"
                    style="overflow: scroll;height: 500px;
                    border-radius: 1px;
                    border:#dee2e6 1px solid;
                    padding: 10px">
                    <div class="orderContainer" cdkDropList
                    #lstOrderList="cdkDropList"
                    [cdkDropListData]="lstOrder"
                    (cdkDropListDropped)="drop($event)">
                        <ng-template ngFor let-order [ngForOf]="lstOrder" let-i="index">
                            <div class="orderItem" [ngStyle]="order.OrderStyle"  cdkDrag>
                                <span>{{order.description}}</span>
                                -
                                <span>{{order.orderCategory}}</span>
                                -
                                <span>{{order.comments}}</span>
                                -
                                <span>{{order.noOfHours}} Hrs</span>
                          </div>
                        </ng-template>
                      </div>                    
                </div>
            </div>  
        </div>
    </div>

    <div class="row mt-3">
        <div class="col text-center">
            <button type="submit" class="btn btn-primary btn-lg mr-2" (click)="reviewSchedule()">Publish/Review</button>
            <button type="submit" class="btn btn-primary btn-lg" (click)="finalizeSchedule()">Finalize</button>
        </div>
    </div>
</div>
